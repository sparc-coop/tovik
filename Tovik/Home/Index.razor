@page "/"
@page "/preview/{Url}"
@page "/preview"
@layout NewHomeLayout
@using Tovik.Domains
@using Tovik.Translation

<article>
	<section>
		<img src="/images/TovikChar.svg" alt="Tovik" />
		<h1>What if your visitors could read your site in their own language?</h1>
		<p>
			Are you tired of complicated installations or expensive subscriptions for translation services? <br />
			Tovik is a simple plugin that quietly translates your site, helping you reach a global audience.
		</p>
		<form @onsubmit=GoToPreview>
			<input type="text" placeholder="Enter your website's URL" @bind=Url required />
			<button class="primary-btn">Preview Your Translated Site</button>
		</form>
		@if (ErrorMessage != null)
		{
			<span class="error-message">@ErrorMessage</span>
		}
	</section>

	<div class="two">
		<section>
			<img src="/images/TiltedWorldIcon.svg" alt="Tilted World" />
			<div>
				<h2>Translate Your Site to 130+ Languages &amp; 600+ Dialects</h2>
				<p>Make your audience feel at home with automatic site translations into their preferred language.</p>
			</div>
		</section>
		<section>
			<img src="/images/LightbulbIcon.svg" alt="Lightbulb" />
			<div>
				<h2>Easy to Install</h2>
				<p>
					Tovik requires minimal setup, just a single line of code or a simple plugin installation.
				</p>
			</div>
		</section>
		<section>
			<img src="/images/NoSubscriptions.svg" alt="No Subscriptions" />
			<div>
				<h2>Buy Once, Yours Forever</h2>
				<p>
					Tovik is sustainably built, ethically priced, and entirely free from monthly subscriptions.
				</p>
			</div>
		</section>
		<section>
			<img src="/images/TranslateIcon.svg" alt="Translate" />
			<div>
				<h2>Works On Any Website</h2>
				<p>
					Built for WordPress, Wix, Webflow, Weebly, SquareSpace, Shopify, and we have an HTML tag for the rest.
				</p>
			</div>
		</section>
	</div>

	<section class="pricing-new">
		<header>
			<h3>Honest price</h3>
			<h4>Tired of subscription services? So are we!</h4>
			<p>
				We believe in honest pricing, and Tovik is just a simple, one time fee. (Yes, really!)
				We believe everyone should have access to translation technology, so we set our pricing with small businesses, non-profits, and individuals like you in mind.
			</p>
		</header>
		<div class="buttons">
			<a class="primary-btn" href="/install">Start Free</a>
			<a class="secondary-btn" href="/pricing">Learn More</a>
		</div>
	</section>

	<section>
		<header>
			<h3>Ask us anything</h3>
			<h4>Frequently Asked Questions</h4>
		</header>
	</section>

	<Questions />
</article>

@code {
	[Parameter] public string? Url { get; set; }
	[Parameter][SupplyParameterFromQuery] public string? PreviewLang { get; set; }
	string? ErrorMessage;
	GetProductResponse? Product;

	protected override async Task OnInitializedAsync()
	{
	}

	void GoToPreview()
	{
		Nav.NavigateTo($"/preview?u={Url}");
	}
}
